#include <math.h>
#include <stdio.h>

#include "s21_smartcalc.h"

#test input_correct_validation

    char *string = "2*1";
    ck_assert_int_eq(input_validation(string), 0);

    string = "cos(2*1)";
    ck_assert_int_eq(input_validation(string), 0);

    string = "2*1*sin(cos(25*x))";
    ck_assert_int_eq(input_validation(string), 0);

    string = "002*1*sin(cos(25*x))";
    ck_assert_int_eq(input_validation(string), 0);

    string = "ln(2x*1)";
    ck_assert_int_eq(input_validation(string), 0);

    string = "sqrt(-2.2x*(-1))";
    ck_assert_int_eq(input_validation(string), 0);

    string = "0.5+ln(-2x*(-1.9))";
    ck_assert_int_eq(input_validation(string), 0);

    string = "2mod3";
    ck_assert_int_eq(input_validation(string), 0);



#test input_incorrect_validation
    
    char *string = "2*cot(2*1)";
    ck_assert_int_eq(input_validation(string), -1);

    string = " 2*1";
    ck_assert_int_eq(input_validation(string), -1);

    string = "(2*(1+))";
    ck_assert_int_eq(input_validation(string), -1);

    string = "(/2*(1+1))";
    ck_assert_int_eq(input_validation(string), -1);

    string = "ln(2x-(*1))";
    ck_assert_int_eq(input_validation(string), -1);

    string = "ln(2x*-1)";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*1-";
    ck_assert_int_eq(input_validation(string), -1);
    
    string = "2*1*cos";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2.*1";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2.*1";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*.1";
    ck_assert_int_eq(input_validation(string), -1);

    string = ".2*.1";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*1.";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*1-2t3+123";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*(1+2))-2";
    ck_assert_int_eq(input_validation(string), -1);

    string = "2*((1+2x5))-2";
    ck_assert_int_eq(input_validation(string), -1);

#test helpers_test

    char symbol = '1';
    ck_assert_int_eq(isNumber(symbol), 1);

    symbol = 'b';
    ck_assert_int_eq(isNumber(symbol), 0);

    symbol = '+';
    ck_assert_int_eq(isOperation(symbol), 1);

    symbol = 'b';
    ck_assert_int_eq(isOperation(symbol), 0);